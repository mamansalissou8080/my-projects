<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pour Toi ðŸŒš</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
    background: linear-gradient(135deg, #ffeef8 0%, #f0f8ff 100%);
    font-family: 'Comic Sans MS', cursive, sans-serif;
    height: 100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    cursor:default;
}

.container { text-align:center; position:relative; max-width:90vw; }

.character {
    width:250px; height:280px; margin:0 auto;
    cursor:pointer; transition:all 0.3s ease;
    display:flex; align-items:center; justify-content:center; position:relative;
}
.character:hover { transform: scale(1.05); }
.character.clicked { animation: bounce 0.6s ease; }
.character.happy { animation: wiggle 0.5s ease; }

.character-video { width:220px; height:220px; object-fit:cover; border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.1); transition:all 0.3s ease; }

.message-area {
    min-height:140px;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    margin-top:20px;
    gap:50px; 
    flex-wrap:wrap;
}

.message {
    background:white; padding:20px 25px; border-radius:20px;
    box-shadow:0 5px 20px rgba(0,0,0,0.1); border:2px solid #bbb;
    max-width:400px; position:relative; opacity:0;
    transform:translateY(20px) scale(0.8); transition:all 0.5s ease;
    word-wrap:break-word; white-space:normal;
}

.message.show { opacity:1; transform:translateY(0) scale(1); }

.message::before {
    content:''; position:absolute; top:-10px; left:50%; transform:translateX(-50%);
    border-left:15px solid transparent; border-right:15px solid transparent;
    border-bottom:15px solid #bbb;
}
.message::after {
    content:''; position:absolute; top:-8px; left:50%; transform:translateX(-50%);
    border-left:13px solid transparent; border-right:13px solid transparent;
    border-bottom:13px solid white;
}

.message-text { font-size:18px; line-height:1.4; }
.message-text .italian { display:block; font-weight:bold; color:#222; margin-bottom:5px; }
.message-text .french { display:block; color:#555; font-size:16px; }

.voice-box {
    display:flex; align-items:center; background:#e1ffc7; border-radius:25px;
    padding:10px 15px; box-shadow:0 3px 10px rgba(0,0,0,0.1);
    cursor:pointer; width:200px; transition:background 0.3s;
}

.voice-box.playing { background:#b3ff8a; }

.voice-icon { font-size:20px; margin-right:10px; }
.voice-duration { font-size:14px; color:#555; margin-left:10px; }

.voice-bar {
    height:5px; flex:1; background:#ddd; border-radius:5px; overflow:hidden;
    position:relative; margin-left:10px;
}
.voice-bar-inner {
    width:0%; height:100%; background:#76c700; transition:width 0.1s linear;
}

.counter {
    position:absolute; 
    top:50px; left:calc(50% + 150px);
    transform:translateX(0);
    background: rgba(255, 255, 255, 0.8);
    padding: 10px 15px;
    border-radius: 20px;
    font-size: 14px;
    color: #666;
    border: 1px solid #ddd;
    z-index: 1000;
}

@keyframes wiggle { 0%,100%{transform:rotate(0deg) scale(1);} 25%{transform:rotate(-5deg) scale(1.05);} 75%{transform:rotate(5deg) scale(1.05);} }
@keyframes bounce { 0%,20%,60%,100%{transform:translateY(0) scale(1);} 40%{transform:translateY(-20px) scale(1.1);} 80%{transform:translateY(-10px) scale(1.05);} }

.heart { position:absolute; font-size:20px; animation:floatHeart 3s ease-out forwards; pointer-events:none; }
@keyframes floatHeart { 0%{opacity:1;transform:translateY(0) scale(0);} 20%{transform:translateY(-20px) scale(1);} 100%{opacity:0; transform:translateY(-100px) scale(0.5);} }

@media(max-width:600px){
    .character{width:200px;height:230px;}
    .character-video{width:180px;height:180px;}
    .message{max-width:90vw;padding:15px 20px;}
    .message-text{font-size:16px;}
    .voice-box{width:180px;}
    .counter{left:calc(50% + 100px);}
}
</style>
</head>
<body>
<div class="container">
    <div class="character" id="character">
        <video class="character-video" autoplay loop muted playsinline>
            <source src="personnage.mp4" type="video/mp4">
            Votre navigateur ne supporte pas les vidÃ©os HTML5.
        </video>
    </div>

    <div class="counter">
        <span id="messageCount">0</span> / <span id="totalMessages">10</span>
    </div>

    <div class="message-area">
        <div class="message" id="messageBox">
            <p class="message-text" id="messageText">
                <span class="italian">Ciao! Pronto per i messaggi? ðŸŒš</span>
                <span class="french">Salut ! PrÃªt pour les messages ? ðŸŒš</span>
            </p>
        </div>

        <div class="voice-box" id="voiceBox">
            <span class="voice-icon">ðŸŽ¤</span>
            <div class="voice-bar">
                <div class="voice-bar-inner" id="voiceBar"></div>
            </div>
            <span class="voice-duration">0:05</span>
            <audio id="voice">
                <source src="rire.mp3" type="audio/mpeg">
            </audio>
        </div>
    </div>
</div>

<script>
const messages = [
    { italian:"Buongiorno! Come stai?", french:"Bonjour ! Comment Ã§a va ?" },
    { italian:"Ho fame, andiamo a mangiare?", french:"J'ai faim, on va manger ?" },
    { italian:"Dove sei?", french:"OÃ¹ es-tu ?" },
    { italian:"Che ore sono?", french:"Quelle heure est-il ?" },
    { italian:"Apri la finestra.", french:"Ouvre la fenÃªtre." },
    { italian:"Chiudi la porta.", french:"Ferme la porte." },
    { italian:"Accendi la luce.", french:"Allume la lumiÃ¨re." },
    { italian:"Spegni il computer.", french:"Ã‰teins l'ordinateur." },
    { italian:"Prendi il libro.", french:"Prends le livre." },
    { italian:"Leggi questo documento.", french:"Lis ce document." }
];

let currentMessageIndex = 0;
const character = document.getElementById('character');
const messageBox = document.getElementById('messageBox');
const messageText = document.getElementById('messageText');
const messageCount = document.getElementById('messageCount');
const totalMessages = document.getElementById('totalMessages');
const voiceBox = document.getElementById('voiceBox');
const voice = document.getElementById('voice');
const voiceBar = document.getElementById('voiceBar');

totalMessages.textContent = messages.length;
messageBox.classList.add('show');

function createSymbol(){
    const symbol=document.createElement('div');
    symbol.className='heart';
    symbol.innerHTML='ðŸŒš';
    symbol.style.left=(Math.random()*100)+'%';
    symbol.style.top=(30+Math.random()*40)+'%';
    document.body.appendChild(symbol);
    setTimeout(()=>symbol.remove(),3000);
}

function showNextMessage(){
    if(currentMessageIndex>=messages.length){
        messageText.innerHTML="<span class='italian'>Messaggi terminati ðŸŒš</span><br><span class='french'>Messages terminÃ©s ðŸŒš</span>";
        currentMessageIndex=0;
        messageCount.textContent=0;
        return;
    }

    messageBox.classList.remove('show');
    setTimeout(()=>{
        const msg=messages[currentMessageIndex];
        messageText.innerHTML=`<span class='italian'>${msg.italian}</span><span class='french'>${msg.french}</span>`;
        messageCount.textContent=currentMessageIndex+1;
        messageBox.classList.add('show');

        character.classList.add('clicked','happy');
        setTimeout(()=>character.classList.remove('clicked','happy'),600);

        currentMessageIndex++;
    },250);
}

character.addEventListener('click',()=>{
    for(let i=0;i<3;i++) setTimeout(createSymbol,i*200);
    setTimeout(showNextMessage,300);
});

character.addEventListener('dblclick',()=>{
    for(let i=0;i<6;i++) setTimeout(createSymbol,i*100);
});

voiceBox.addEventListener('click', ()=>{
    if(voice.paused){
        voiceBox.classList.add('playing');
        voice.currentTime=0;
        voice.play();
        let interval = setInterval(()=>{
            let progress = (voice.currentTime / voice.duration)*100;
            voiceBar.style.width = progress + "%";
            if(voice.ended){
                clearInterval(interval);
                voiceBox.classList.remove('playing');
                voiceBar.style.width = "0%";
            }
        },50);
    } else {
        voice.pause();
        voiceBox.classList.remove('playing');
        voiceBar.style.width = "0%";
    }
});
</script>
</body>
</html>

